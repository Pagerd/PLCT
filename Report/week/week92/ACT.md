

- # 2025.9.8 Architectural Compatible Test SIG Meeting

- 1. **RISCOF框架优化**
     - M. Zain（10xE）介绍了对RISCOF框架的改进，包括通过时间戳比较避免重复验证YAML配置，节省约10-15秒运行时间。
     - 提出了自检测试的支持问题：当前RISCOF不支持条件编译（如`ifdef`），且需扩展支持ZICSR指令（用于陷阱处理），但需确保向后兼容性。
  2. **自我检查测试方案**
     - 自检测试需处理签名比较失败的情况，提议通过陷阱处理器更新计数器（如通过特定标签记录不匹配次数），并在报告中显示结果。
     - 讨论了特权测试与非特权测试的区别：特权测试需确保陷阱处理正确（如通过`ecall`进入M模式），而非特权测试可通过`jal`跳转到失败例程。
  3. **测试结构改进提案**
     - Jordan Carlin（Harvey Mudd College）提出新测试格式方案：使用YAML注释嵌入测试元数据（如依赖的扩展和参数），替代现有的宏（如`RV_TEST_ISA`）以提高可读性和灵活性。
     - 新方案支持基于UDB（Unified Documentation Base）配置动态选择测试，避免重复编译不依赖配置的测试（如基础整数指令），减少磁盘占用。
  4. **失败处理与寄存器使用**
     - 讨论了失败例程（failure routine）的实现：需避免占用测试寄存器（如RA、SP），建议通过ABI约定或动态选择空闲寄存器。
     - 强调测试需覆盖所有寄存器，不能假设特定寄存器未被使用。
  5. **测试报告与自动化**
     - 当前RISCOF默认生成HTML报告，但支持`--no-browser`标志供脚本环境使用。
     - 建议增强错误报告机制（如通过UART输出或内存转储），以便在自动化环境中获取详细失败信息。